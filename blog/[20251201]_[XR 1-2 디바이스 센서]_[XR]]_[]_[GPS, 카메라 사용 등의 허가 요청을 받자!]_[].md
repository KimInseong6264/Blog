# 디바이스 센서

![](https://velog.velcdn.com/images/iissk/post/cfb892d6-4cd4-41b7-8f13-51ed3f93952e/image.png)

![](https://velog.velcdn.com/images/iissk/post/c746d7ec-6c84-4b1c-bf4b-5a49ab92485b/image.png)
▶ 최소한의 권한만 세팅해주는 것

에셋 -> 플러그인 -> 안드로이드에 생긴 스크립트에서 내용을 수정

![](https://velog.velcdn.com/images/iissk/post/d6df19d7-5fa7-404c-b43a-65a7b799c82f/image.png)

```
public class PermissionManager : MonoBehaviour
{

    private void Start()
    {
        Request(Permission.FineLocation);
    }

    public void Request(string targetPermission)
    {
        // Permission 구조체는 유니티에서 제공해줌!
        // 입력받은 종류의 권한이 이미 승인이 되어 있다면?

        if (Permission.HasUserAuthorizedPermission(targetPermission))
        {
            OnSucceeded("이미 권한 있었다고 하네요");
            return;
        }

        // 승인되어있지 않다면? // 여기서부터가 핵심

        // 권한처리(승인, 거절, 강한 거절) 시 반응(콜백)에 대한 정보를 담는 변수 선언
        var pCallback = new PermissionCallbacks();

        // 성공시 해야 할 메서드 등록
        pCallback.PermissionGranted += OnSucceeded;

        // 실패 시, 해야 할 메서드 등록
        pCallback.PermissionDenied += OnDenied;

        // Permission 구조체에서 권한 요청 보내는 기능을 수행한다
        Permission.RequestUserPermission(targetPermission, pCallback);
        // 예시: Permission.RequestUserPermission("com.android.permission.ACCESS_LOCAL_PO
    }
    // 승인 시, 해야 할 행동
    public void OnSucceeded(string str)
    {
        Debug.Log(str + "뭐가 성공 메세지:");
        //권한 받은 이후로 해야 할 기능들 여기에 작성
    }

    public void OnDenied(string str)
    {
        Debug.Log(str + "뭔가 실패 메세지");
        // 권한 거부 당했을 때
    }
}
```

### Logcat
디버그 로그를 할 수 있도록 하는 것

패키지 다운로드 후
![](https://velog.velcdn.com/images/iissk/post/9769b1c0-3e1b-41d2-a5d3-97042175ccf2/image.png)





